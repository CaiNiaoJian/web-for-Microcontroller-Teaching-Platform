<!DOCTYPE html>
<html lang="zh-CN">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>æ–°é—»æ–‡ç« </title>
		<style>
			/* å…¨å±€æ ·å¼ */
			body {
				font-family: "Microsoft YaHei", sans-serif;
				margin: 0;
				padding: 0;
				background-color: #f0f8ff;
			}

			/* å¤´éƒ¨æ ·å¼ */
			header {
				background-color: rgba(65, 105, 225, 0.8);
				color: #fff;
				padding: 20px;
				text-align: center;
				display: flex;
				justify-content: space-between;
				align-items: center;
			}

			header h1 {
				margin: 0;
				font-size: 32px;
			}

			.back-button {
				background-color: #fff;
				color: #4169e1;
				border: none;
				padding: 10px 20px;
				font-size: 16px;
				border-radius: 5px;
				cursor: pointer;
				text-decoration: none;
				transition: background-color 0.3s, color 0.3s;
			}

			.back-button:hover {
				background-color: #4169e1;
				color: #fff;
			}

			/* ä¸»è¦å†…å®¹æ ·å¼ */
			main {
				max-width: 800px;
				margin: 40px auto;
				padding: 0 20px;
			}

			.news-article {
				background-color: #fff;
				border-radius: 10px;
				box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
				padding: 40px;
			}

			.news-article h2 {
				color: #4169e1;
				font-size: 28px;
				margin-bottom: 20px;
			}

			.news-article .news-meta {
				display: flex;
				justify-content: space-between;
				align-items: center;
				margin-bottom: 20px;
				color: #888;
				font-size: 14px;
			}

			.news-article .news-meta .news-tag {
				display: inline-block;
				padding: 4px 12px;
				background-color: #4169e1;
				color: #fff;
				border-radius: 20px;
				font-size: 12px;
			}

			.news-article .news-content {
				font-size: 16px;
				line-height: 1.6;
				color: #333;
			}

			.news-article .news-content img {
				max-width: 100%;
				height: auto;
				border-radius: 5px;
				margin: 20px 0;
			}

			.news-article .news-content p {
				margin-bottom: 20px;
			}

			/* è§†é¢‘æ¡†æ ·å¼ */
			.news-article .news-content iframe {
				width: 100%;
				height: 400px;
				/* è°ƒæ•´è§†é¢‘æ¡†çš„é«˜åº¦ */
				border-radius: 5px;
				margin: 20px 0;
			}

			/* è¯„è®ºéƒ¨åˆ†æ ·å¼ */
			.comment-section {
				margin-top: 40px;
				background-color: #fff;
				border-radius: 10px;
				box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
				padding: 20px;
			}

			.comment-section h3 {
				color: #4169e1;
				font-size: 20px;
				margin-bottom: 20px;
			}

			.comment-form {
				display: flex;
				flex-direction: column;
				margin-bottom: 20px;
			}

			.comment-form input,
			.comment-form textarea {
				padding: 10px;
				border: 1px solid #ccc;
				border-radius: 5px;
				font-size: 16px;
				margin-bottom: 10px;
			}

			.comment-form textarea {
				resize: vertical;
				min-height: 100px;
			}

			.comment-form .emoji-picker {
				display: flex;
				justify-content: center;
				margin-bottom: 10px;
			}

			.comment-form .emoji-picker .emoji {
				font-size: 24px;
				margin: 0 5px;
				cursor: pointer;
				transition: transform 0.3s;
			}

			.comment-form .emoji-picker .emoji.selected {
				transform: scale(1.2);
			}

			.comment-form button {
				background-color: #4169e1;
				color: #fff;
				border: none;
				padding: 10px 20px;
				font-size: 16px;
				border-radius: 5px;
				cursor: pointer;
				transition: background-color 0.3s;
			}

			.comment-form button:hover {
				background-color: #1e90ff;
			}

			.comment {
				border-top: 1px solid #eee;
				padding-top: 20px;
				margin-top: 20px;
			}

			.comment .comment-author {
				font-weight: bold;
				margin-bottom: 5px;
			}

			.comment .comment-date {
				color: #888;
				font-size: 14px;
				margin-bottom: 10px;
			}

			.comment .comment-content {
				font-size: 16px;
				line-height: 1.6;
				color: #333;
				display: flex;
				align-items: center;
			}

			.comment .comment-content .emoji {
				font-size: 24px;
				margin-right: 10px;
			}

			.comment .reply-form {
				margin-top: 10px;
				display: none;
			}

			.comment .reply-form input,
			.comment .reply-form textarea {
				padding: 5px;
				border: 1px solid #ccc;
				border-radius: 5px;
				font-size: 14px;
				margin-bottom: 5px;
			}

			.comment .reply-form button {
				background-color: #4169e1;
				color: #fff;
				border: none;
				padding: 5px 10px;
				font-size: 14px;
				border-radius: 5px;
				cursor: pointer;
				transition: background-color 0.3s;
			}

			.comment .reply-form button:hover {
				background-color: #1e90ff;
			}

			/* é¡µè„šæ ·å¼ */
			footer {
				background-color: rgba(65, 105, 225, 0.8);
				color: #fff;
				padding: 20px;
				text-align: center;
				font-size: 16px;
			}
		</style>
	</head>
	<body>
		<header>
			<a href="news.html" class="back-button">â† è¿”å›</a>
			<h1>æ–°é—»æ–‡ç« </h1>
		</header>

		<main>
			<div class="news-article">
				<h2>è‹-57æˆ˜æœºä¸­å›½é¦–ç§€ è½å¶é£˜è¶…çŸ­èµ·é£éœ‡æ’¼å…¨åœºï¼</h2>
				<div class="news-meta">
					<span class="news-tag">ç æµ·èˆªå±•</span>
					<span class="news-date">2024å¹´11æœˆ08æ—¥</span>
				</div>
				<div class="news-content">
					<iframe
						src="//player.bilibili.com/player.html?isOutside=true&aid=113444799908559&bvid=BV1NoD9YwE6g&cid=26662670089&p=1"
						scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"></iframe>
					<h4>ä½œè€…ï¼šbç«™upä¸» LovePlane1</h4>
					<img src="news_images/è‹57.png" />
				</div>
			</div>

			<div class="comment-section">
				<h3>è¯„è®º</h3>
				<div class="comment-form">
					<input type="text" placeholder="å§“å" id="comment-name">
					<textarea placeholder="å‘è¡¨è¯„è®º..." id="comment-text"></textarea>
					<div class="emoji-picker">
						<span class="emoji">ğŸ˜€</span>
						<span class="emoji">ğŸ˜ƒ</span>
						<span class="emoji">ğŸ˜„</span>
						<span class="emoji">ğŸ˜</span>
						<span class="emoji">ğŸ˜†</span>
						<span class="emoji">ğŸ˜…</span>
						<span class="emoji">ğŸ˜‚</span>
						<span class="emoji">ğŸ¤£</span>
					</div>
					<button id="submit-comment">æäº¤</button>
				</div>
				<div id="comments-container">
					<!-- è¯„è®ºå°†åŠ¨æ€æ·»åŠ åˆ°è¿™é‡Œ -->
				</div>
			</div>
		</main>

		<footer>
			<p>&copy; 2024 ä¸­å›½çŸ¿ä¸šå¤§å­¦ç‰ˆæƒæ‰€æœ‰.</p>
		</footer>

		<script>
			// æ·»åŠ æ–°è¯„è®ºçš„å‡½æ•°
			function addComment(name, content, date, emoji) {
				const commentsContainer = document.getElementById('comments-container');
				const commentElement = document.createElement('div');
				commentElement.classList.add('comment');

				commentElement.innerHTML = `
        <div class="comment-author">${name}</div>
        <div class="comment-date">${date}</div>
        <div class="comment-content">
          <span class="emoji">${emoji}</span>
          ${content}
          <div class="reply-form">
            <input type="text" placeholder="å›å¤" class="reply-input">
            <button class="reply-button">å›å¤</button>
          </div>
          <button class="reply-toggle">å›å¤</button>
        </div>
      `;

				commentsContainer.appendChild(commentElement);

				// æ·»åŠ å›å¤æŒ‰é’®çš„äº‹ä»¶ç›‘å¬å™¨
				const replyToggle = commentElement.querySelector('.reply-toggle');
				const replyForm = commentElement.querySelector('.reply-form');
				replyToggle.addEventListener('click', () => {
					replyForm.style.display = replyForm.style.display === 'none' ? 'block' : 'none';
				});

				// æ·»åŠ å›å¤æäº¤çš„äº‹ä»¶ç›‘å¬å™¨
				const replyInput = commentElement.querySelector('.reply-input');
				const replyButton = commentElement.querySelector('.reply-button');
				replyButton.addEventListener('click', () => {
					if (replyInput.value.trim() !== '') {
						const replyContent = replyInput.value;
						addReply(name, replyContent, new Date().toLocaleString());
						replyInput.value = '';
					}
				});
			}

			// æ·»åŠ å›å¤çš„å‡½æ•°
			function addReply(name, content, date) {
				const commentsContainer = document.getElementById('comments-container');
				const lastComment = commentsContainer.lastElementChild;
				const replyElement = document.createElement('div');
				replyElement.classList.add('comment');
				replyElement.innerHTML = `
        <div class="comment-author">${name}</div>
        <div class="comment-date">${date}</div>
        <div class="comment-content">${content}</div>
      `;
				lastComment.appendChild(replyElement);
			}

			// æäº¤æŒ‰é’®çš„äº‹ä»¶ç›‘å¬å™¨
			document.getElementById('submit-comment').addEventListener('click', () => {
				const nameInput = document.getElementById('comment-name');
				const commentInput = document.getElementById('comment-text');
				const emojiPicker = document.querySelectorAll('.emoji-picker .emoji');
				let selectedEmoji = 'ğŸ˜€';

				if (nameInput.value.trim() !== '' && commentInput.value.trim() !== '') {
					emojiPicker.forEach(emoji => {
						if (emoji.classList.contains('selected')) {
							selectedEmoji = emoji.textContent;
						}
					});

					const currentDate = new Date().toLocaleString();
					addComment(nameInput.value, commentInput.value, currentDate, selectedEmoji);

					// æ¸…ç©ºè¾“å…¥å­—æ®µ
					nameInput.value = '';
					commentInput.value = '';
					emojiPicker.forEach(emoji => emoji.classList.remove('selected'));
				}
			});

			// è¡¨æƒ…é€‰æ‹©çš„äº‹ä»¶ç›‘å¬å™¨
			const emojiPicker = document.querySelectorAll('.emoji-picker .emoji');
			emojiPicker.forEach(emoji => {
				emoji.addEventListener('click', () => {
					emojiPicker.forEach(e => e.classList.remove('selected'));
					emoji.classList.add('selected');
				});
			});
		</script>
		<script>
			window.parent.postMessage({
				action: "ready"
			}, "*");

			window.console = new Proxy(console, {
				get(target, prop) {
					if (['log', 'warn', 'error'].includes(prop)) {
						return new Proxy(target[prop], {
							apply(fn, thisArg, args) {
								fn.apply(thisArg, args);
								window.parent.postMessage({
									action: 'console',
									type: prop,
									args: args.map((arg) => {
										try {
											return JSON.stringify(arg).replace(
												/^["']|["']$/g, '');
										} catch (e) {
											return arg;
										}
									})
								}, '*');
							}
						});
					}
					return target[prop];
				}
			});
		</script>
	</body>
</html>